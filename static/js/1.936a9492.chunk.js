(this["webpackJsonpnode-monitor"]=this["webpackJsonpnode-monitor"]||[]).push([[1],{105:function(e,t,n){"use strict";n.r(t);var r,c,a,o,i,s,u,l=n(0),d=n.n(l),b=n(24),j=n(123),v=n(17),f=Object(v.a)((function(e){return e.monitorDetail}),(function(e){return e})),p=n(1),O=n(282),h=n(124),m=n(284),x=n(278),y=n(279),g=n(280),w=n(281),k=n(4),S=n(3),E=S.default.div(r||(r=Object(k.a)(["\n    .card {\n        overflow: auto;\n    }\n    .table-cell {\n        min-width: 100px;\n    }\n    .dark-row {\n        background-color: ",";\n    }\n    .table-row {\n        cursor: pointer;\n        > td {\n            text-align: center;\n        }\n    }\n    .header-row {\n        background-color: ",";\n        th {\n            font-weight: bold;\n            text-align: center;\n        }\n    }\n"])),(function(e){return e.theme.darkRow}),(function(e){return e.theme.headerRow})),P=n(2),H=d.a.memo((function(e){var t=e.columns,n=e.data,r=e.showHeader,c=Object(h.useTable)({columns:t||[],data:n||[]}),a=c.getTableProps,o=c.headerGroups,i=c.rows,s=c.prepareRow;return Object(P.jsx)(E,{children:Object(P.jsx)(O.a,{className:"card",children:Object(P.jsxs)(m.a,Object(p.a)(Object(p.a)({},a()),{},{children:[!!r&&Object(P.jsx)(x.a,{children:o.map((function(e){return Object(P.jsx)(y.a,Object(p.a)(Object(p.a)({className:"header-row"},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(P.jsx)(g.a,Object(p.a)(Object(p.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(P.jsx)(w.a,{children:i.map((function(e,t){return s(e),Object(P.jsx)(y.a,Object(p.a)(Object(p.a)({className:"table-row ".concat(t%2!==0?"dark-row":"")},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(P.jsx)(g.a,Object(p.a)(Object(p.a)({className:"table-cell"},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))})]}))})})})),I=n(25),T=S.default.div(c||(c=Object(k.a)([""]))),_=d.a.memo((function(){var e=Object(b.c)(f).committee;return Object(I.isEmpty)(e)?null:Object(P.jsx)(T,{children:Object(P.jsx)(H,{data:e,columns:j.c,showHeader:!0})})})),A=n(35),C=n(50),R=n(48),N=function(e){return function(t){var n=Object(b.c)(f).syncStat;return Object(P.jsx)(R.a,{children:Object(P.jsx)(e,Object(p.a)({},Object(p.a)(Object(p.a)({},t),{},{beacon:null===n||void 0===n?void 0:n.beacon,shards:null===n||void 0===n?void 0:n.shards})))})}},D=S.default.div(a||(a=Object(k.a)(["\n    width: 100%;\n    > div:last-child {\n        border-bottom-width: 0;\n        margin-bottom: 10px;\n    }\n    .header-row {\n        background-color: ",";\n        th {\n            font-weight: bold;\n            text-align: center;\n        }\n    }\n"])),(function(e){return e.theme.headerRow})),V=Object(S.default)(A.a)(o||(o=Object(k.a)(["\n    width: 100%;\n    justify-content: space-between;\n    border-left-width: 0;\n    border-right-width: 0;\n    border-top-width: 0;\n    border-bottom: 1px solid ",";\n    padding: 10px 0;\n    background-color: ",";\n    > div {\n        min-width: 100px;\n    }\n"])),(function(e){var t=e.theme;return"".concat(t.border2)}),(function(e){var t=e.theme;return e.isEven?"transparent":t.darkRow})),L=N(Object(l.memo)((function(e){var t=e.beacon,n=e.shards,r=Object(h.useTable)({columns:j.b||[],data:[]}).headerGroups,c=function(e,t){return Object(P.jsxs)(V,{isEven:t%2!==0,children:[Object(P.jsx)(C.a,{style:{flex:2,textAlign:"center"},children:null===e||void 0===e?void 0:e.name}),Object(P.jsx)(C.b,{style:{flex:2,textAlign:"center"},children:null===e||void 0===e?void 0:e.blockHeight}),Object(P.jsx)(C.b,{style:{flex:3,textAlign:"center"},color:null===e||void 0===e?void 0:e.color,children:null===e||void 0===e?void 0:e.message})]},null===e||void 0===e?void 0:e.name)};if(Object(I.isEmpty)(t)||Object(I.isEmpty)(n))return null;return Object(P.jsx)(O.a,{children:Object(P.jsxs)(D,{children:[Object(P.jsx)(x.a,{style:{display:"flex",width:"100%"},children:r.map((function(e){return Object(P.jsx)(y.a,Object(p.a)(Object(p.a)({style:{display:"flex",flex:1},className:"header-row"},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e,t){var n=2===t?3:2;return Object(P.jsx)(g.a,Object(p.a)(Object(p.a)({style:{flex:n,textAlign:"center"}},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(P.jsxs)(P.Fragment,{children:[c(t,1),n.map(c)]})]})})}))),M=n(133),B=S.default.div(i||(i=Object(k.a)(["\n    overflow: auto;\n    padding: ",";\n    > div {\n        margin-top: 20px;\n    }\n    .wrap-loading {\n        padding-bottom: 20px;\n    }\n"])),(function(e){return e.isWebview?"3px":"0 20px 20px 20px"})),F=S.default.div(s||(s=Object(k.a)(["\n    div:last-child {\n        line-break: anywhere;\n    }\n"]))),K=function(e){var t=e.title,n=e.content;return Object(P.jsxs)(F,{children:[Object(P.jsx)(C.a,{fontSize:16,children:t}),Object(P.jsx)(C.b,{fontSize:16,mt:10,color:"text2",children:n})]})},z=Object(l.memo)(K),W=n(62),G=n(139),U=n(121),q=function(e){return function(t){var n=Object(b.b)();return d.a.useEffect((function(){n(Object(U.b)())}),[]),Object(P.jsx)(R.a,{children:Object(P.jsx)(e,Object(p.a)({},Object(p.a)({},t)))})}},J=function(e){return function(t){var n=Object(b.b)();return d.a.useEffect((function(){n(Object(U.d)())}),[]),Object(P.jsx)(R.a,{children:Object(P.jsx)(e,Object(p.a)({},Object(p.a)({},t)))})}},Q=n(29),X=Object(G.a)(J,q,(function(e){return function(t){var n=Object(b.b)(),r=d.a.useState(!1),c=Object(W.a)(r,2),a=c[0],o=c[1];return d.a.useEffect((function(){!function(){var e=Object(Q.a)();Object(I.isEmpty)(e)||(o(!0),n(Object(U.c)(e)))}()}),[]),Object(P.jsx)(R.a,{children:Object(P.jsx)(e,Object(p.a)({},Object(p.a)(Object(p.a)({},t),{},{isWebview:a})))})}})),Y=S.default.div(u||(u=Object(k.a)(["\n    display: inline-flex;\n    div:last-child {\n        line-break: anywhere;\n    }\n"]))),Z=function(e){var t=e.title,n=e.content;return Object(P.jsxs)(Y,{children:[Object(P.jsx)(C.a,{fontSize:16,children:t}),Object(P.jsx)(C.b,{fontSize:16,ml:"8px",color:"text2",children:n})]})},$=Object(l.memo)(Z),ee=d.a.memo((function(e){var t=e.isWebview,n=Object(b.c)(f),r=n.node,c=n.fetching;return Object(P.jsxs)(B,{isWebview:t,children:[!!r&&Object(P.jsxs)(P.Fragment,{children:[!!r.name&&Object(P.jsx)(z,{title:"Name",content:r.name}),Object(P.jsx)(z,{title:"Validator Public key",content:r.publicKey}),Object(P.jsx)(z,{title:"Status",content:function(){if(!r)return"";if(Object(I.isEmpty)(null===r||void 0===r?void 0:r.role)||"-"===(null===r||void 0===r?void 0:r.role)||"Not stake"===r.role||"Not stake"===r.committeeChain)return"Not stake";var e="".concat(null===r||void 0===r?void 0:r.role," Shard ").concat(r.committeeChain);return(null===r||void 0===r?void 0:r.autoStake)||(e+=" (unstaking)"),e}()}),Object(P.jsx)($,{title:"Sync state:",content:"Offline"===r.status?"Offline":r.syncState})]}),c?Object(P.jsx)(M.a,{}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(L,{}),Object(P.jsx)(_,{})]})]})}));t.default=X(ee)},121:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return v}));var r=n(38),c=n.n(r),a=n(49),o=n(26),i=n(140),s=n(141),u=function(e){return{type:o.c,payload:e}},l=function(){return{type:o.a}},d=function(e){return{type:o.d,payload:e}},b=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,u,l,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n().monitorDetail,a=r.node,u=r.fetching,a){e.next=4;break}return e.abrupt("return");case 4:return u||t(d({fetching:!0})),l=a.publicKey,e.t0=s.d,e.next=9,Object(i.c)(l);case 9:e.t1=e.sent,b=(0,e.t0)(e.t1),t((c={syncStat:b},{type:o.e,payload:c})),e.next=17;break;case 14:e.prev=14,e.t2=e.catch(0),console.debug("Fetch sync stats with error: ",e.t2);case 17:return e.prev=17,t(d({fetching:!1})),e.finish(17);case 20:case"end":return e.stop()}var c}),e,null,[[0,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}()},j=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n().monitorDetail.node){e.next=4;break}return e.abrupt("return");case 4:return a=r.publicKey,e.t0=s.a,e.next=8,Object(i.a)(a);case 8:e.t1=e.sent,u=(0,e.t0)(e.t1),t((c={committeeInfo:u},{type:o.b,payload:c})),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(0),console.debug("Fetch sync stats with error: ",e.t2);case 16:return e.prev=16,t(d({fetching:!1})),e.finish(16);case 19:case"end":return e.stop()}var c}),e,null,[[0,13,16,19]])})));return function(t,n){return e.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=s.b,t.next=4,Object(i.b)(e);case 4:return t.t1=t.sent,a=(0,t.t0)(t.t1),n(u({node:a})),t.next=9,b()(n,r);case 9:return t.next=11,j()(n,r);case 11:t.next=16;break;case 13:t.prev=13,t.t2=t.catch(0),console.debug("Fetch node info error: ",t.t2);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()}},123:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a}));var r=[{accessor:"name",Header:"Name"},{accessor:"ellipsisMpk",Header:"Validator Public key"},{accessor:"role",Header:"Role"},{accessor:"committeeChain",Header:"Committee Chain"},{accessor:"status",Header:"Status"},{accessor:"syncState",Header:"Sync State"},{accessor:"voteStats",Header:"Vote Stats"}],c=[{accessor:"epoch",Header:"Epoch"},{accessor:"chainId",Header:"Chain Id"},{accessor:"reward",Header:"Reward"},{accessor:"voteCount",Header:"Vote Count (%)"}],a=[{accessor:"name",Header:"Shard"},{accessor:"blockHeight",Header:"Block Height"},{accessor:"lastInsert",Header:"Last Insert"}]},133:function(e,t,n){"use strict";var r,c=n(4),a=n(0),o=n(273),i=n(3),s=n(2),u=i.default.div(r||(r=Object(c.a)(["\n    justify-content: center;\n    align-items: center;\n    display: flex;\n"]))),l=function(){return Object(s.jsx)(u,{className:"wrap-loading",children:Object(s.jsx)(o.a,{color:"primary"})})};t.a=Object(a.memo)(l)},140:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return f}));var r=n(38),c=n.n(r),a=n(49),o=n(1),i=n(156),s=n.n(i),u=n(181),l=s.a.create({timeout:2e4}),d={"Content-Type":"application/json"};l.interceptors.request.use((function(e){return e.baseURL=u.a,e.headers=Object(o.a)(Object(o.a)({},d),e.headers),e}),(function(e){Promise.reject(e)})),l.interceptors.response.use((function(e){var t,n=null===e||void 0===e?void 0:e.data,r=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Error;return r?Promise.reject(r):Promise.resolve(n)}),function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===t||void 0===t?void 0:t.isAxiosError)||(null===t||void 0===t?void 0:t.response)){e.next=2;break}throw new Error("Send request API failed");case 2:return e.abrupt("return",Promise.reject(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var b=l,j=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.post("stat",{mpk:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.post("sync",{mpk:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.post("committee",{mpk:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},141:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return f}));var r=n(1),c=n(25),a=n(241),o=n.n(a),i=function(e){var t=e.str,n=e.limit,r=void 0===n?10:n,c=e.dots,a=void 0===c?"...":c;try{var o=t.length;return o<2*r+a.length?t:t.substring(0,r)+a+t.substring(o-r,o)}catch(i){return t}},s=n(29),u=n(59),l=function(e){var t=null===e||void 0===e?void 0:e.Role,n=null===e||void 0===e?void 0:e.CommitteeChain;return"-1"===n&&(n="beacon"),Object(c.isEmpty)(null===e||void 0===e?void 0:e.Role)&&(t="Not stake",n=u.b),{publicKey:(null===e||void 0===e?void 0:e.MiningPubkey)||u.b,status:Object(c.capitalize)(null===e||void 0===e?void 0:e.Status)||u.b,committeeChain:n,syncState:Object(c.capitalize)(null===e||void 0===e?void 0:e.SyncState)||u.b,voteStats:Object(s.c)(null===e||void 0===e?void 0:e.VoteStat)||u.b,ellipsisMpk:i({str:(null===e||void 0===e?void 0:e.MiningPubkey)||"",limit:20})||u.b,role:Object(c.capitalize)(t)||u.b,autoStake:null===e||void 0===e?void 0:e.AutoStake}},d=function(e,t){return Object(c.isEmpty)(e)?[]:t.map((function(t){var n=t.name,a=t.publicKey,o=e.find((function(e){return a===e.MiningPubkey}))||{};return Object(c.isEmpty)(o)?Object(r.a)({name:n||u.b},l(Object(r.a)(Object(r.a)({},o),{},{MiningPubkey:a}))):Object(r.a)({name:n||u.b},l(Object(r.a)({},o)))}))},b=function(e){if(!Object(c.isEmpty)(e)&&Object(c.isArray)(e)){var t=e[0];return l(t)}},j=function(e){var t="",n=e.IsSync?"syncing":"not syncing",r=e.IsSync?"green1":"text1";return(null===e||void 0===e?void 0:e.LastInsert)&&(t+="".concat(o()(null===e||void 0===e?void 0:e.LastInsert).fromNow()," ")),e.IsSync&&(!(null===e||void 0===e?void 0:e.LastInsert)||Date.now()-new Date(null===e||void 0===e?void 0:e.LastInsert).getTime()>3e5)&&(n="stalling",r="red1"),{message:"".concat(t).concat(t?" (":"").concat(n).concat(t?")":""),color:r}},v=function(e){if(!Object(c.isEmpty)(e)){var t,n=e.Shard,a=e.Beacon,o=j(a),i=o.message,s=o.color;return t={beacon:{name:"Beacon",isSync:a.IsSync,lastInsert:null===a||void 0===a?void 0:a.LastInsert,blockHeight:null===a||void 0===a?void 0:a.BlockHeight,blockTime:null===a||void 0===a?void 0:a.BlockTime,blockHash:null===a||void 0===a?void 0:a.BlockHash,message:i,color:s}},t=Object(r.a)(Object(r.a)({},t),{},{shards:Object.keys(n).map((function(e){var t=n[e],r=j(t),c=r.message,a=r.color;return{name:"Shard ".concat(e),isSync:null===t||void 0===t?void 0:t.IsSync,lastInsert:null===t||void 0===t?void 0:t.LastInsert,blockHeight:null===t||void 0===t?void 0:t.BlockHeight,blockTime:null===t||void 0===t?void 0:t.BlockTime,blockHash:null===t||void 0===t?void 0:t.BlockHash,chainId:null===t||void 0===t?void 0:t.ChainId,message:c,color:a}}))})}},f=function(e){if(!Object(c.isEmpty)(e))return e.map((function(e){var t=u.b;return(null===e||void 0===e?void 0:e.TotalPropose)&&(t=Math.round((null===e||void 0===e?void 0:e.TotalVote)/(null===e||void 0===e?void 0:e.TotalPropose)*100)),{epoch:(null===e||void 0===e?void 0:e.Epoch)||u.b,reward:(null===e||void 0===e?void 0:e.Reward)||u.b,time:(null===e||void 0===e?void 0:e.Time)||u.b,totalPropose:(null===e||void 0===e?void 0:e.TotalPropose)||u.b,totalVote:(null===e||void 0===e?void 0:e.TotalVote)||u.b,voteCount:t,chainId:(null===e||void 0===e?void 0:e.ChainID)||u.b}}))}},181:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(1),c=n(215),a=n.n(c),o={REACT_APP_IS_MAINNET:!1,REACT_APP_VERSION:"1.0",REACT_APP_IS_DEV:!1,FAST_REFRESH:!0},i=(function(){var e={};try{var t=Object({NODE_ENV:"production",PUBLIC_URL:"/inc-monitor",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IS_MAINNET:"true",REACT_APP_IS_DEV:"false",REACT_APP_VERSION:"1.0"});a()(t)||Object.keys(t).forEach((function(n){var r=t[n];return e[n]="true"===r||"false"===r?"true"===r:t[n],n}))}catch(n){console.debug(n)}finally{e=a()(e)?o:e}return Object(r.a)(Object(r.a)({},e),{},{REACT_APP_DOMAIN_URL:window.location.origin})}().REACT_APP_IS_MAINNET,"http://139.162.54.236:3333/"),s="".concat(i,"pubkeystat/"),u="".concat(i,"validator/")}}]);
//# sourceMappingURL=1.936a9492.chunk.js.map